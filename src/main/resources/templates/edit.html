<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit Transaction | ExpnsTracker</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
</head>

<body>

<div class="card z-depth-3" style="max-width:500px;margin:2rem auto;padding:2rem;">
    <h4 class="center-align">Edit Transaction</h4>

    <form th:action="@{/transactions/edit/{id}(id=${transaction.id})}"
          th:object="${transaction}"
          method="post">

        <!-- Type -->
        <div class="input-field">
            <select th:field="*{type}">
                <option th:each="type : ${types}"
                        th:value="${type}"
                        th:text="${type}">
                </option>
            </select>
            <label>Transaction Type</label>
        </div>

        <!-- Category -->
        <div class="input-field">
            <input type="text" th:field="*{categoryId}" required>
            <label>Category</label>
        </div>

        <!-- Amount -->
        <div class="input-field">
            <input type="number" step="0.01" th:field="*{amount}" required>
            <label>Amount</label>
        </div>

        <!-- Description -->
        <div class="input-field">
            <textarea th:field="*{description}" class="materialize-textarea"></textarea>
            <label>Description</label>
        </div>

        <div class="center-align">
            <button class="btn waves-effect waves-light" type="submit">
                Update Transaction
            </button>
        </div>

        <br>
        <p class="center-align">
            <a th:href="@{/transactions}">Cancel</a>
        </p>
    </form>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        M.FormSelect.init(document.querySelectorAll('select'));
    });
</script>

</body>
</html>
