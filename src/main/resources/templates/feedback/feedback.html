<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
<head>
    <title>Feedback</title>
    <style>
        /* Fix for textarea appearance */
        textarea.materialize-textarea {
            min-height: 100px !important;
            padding-top: 10px;
            overflow-y: auto;
        }
    </style>
</head>
<body>

<div layout:fragment="content">
    <div class="container" style="margin-top: 40px;">
        <div class="row">
            <div class="col s12 m8 offset-m2 l6 offset-l3">

                <div class="card hoverable z-depth-1">
                    <div class="card-content">
                        <span class="card-title center blue-text text-darken-2">

                            Send Feedback
                        </span>
                        <p class="center grey-text text-darken-1">Found a bug? Have a suggestion? Let us know!</p>

                        <form th:action="@{/feedback}" method="post" style="margin-top: 30px;">

                            <!-- Category Selection -->
                            <div class="input-field">
                                <i class="material-icons prefix grey-text">category</i>
                                <select name="category" required>
                                    <option value="" disabled selected>Select Category</option>
                                    <option value="Bug">Report a Bug</option>
                                    <option value="Feature">Feature Request</option>
                                    <option value="UX">User Experience / UI</option>
                                    <option value="Other">Other</option>
                                </select>
                                <label>Category</label>
                            </div>

                            <!-- Message -->
                            <div class="input-field">
                                <i class="material-icons prefix grey-text">message</i>
                                <textarea id="message" name="message" class="materialize-textarea" required data-length="500"></textarea>
                                <label for="message">Your Message</label>
                            </div>

                            <div class="card-action center-align" style="border-top: none; padding-top: 20px;">
                                <button class="btn waves-effect waves-light blue darken-1 z-depth-1" type="submit">
                                    Submit Feedback
                                    <i class="material-icons right">send</i>
                                </button>
                            </div>

                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script layout:fragment="script">
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Select
            var selects = document.querySelectorAll('select');
            M.FormSelect.init(selects);

            // Initialize Character Counter
            var textareas = document.querySelectorAll('textarea#message');
            M.CharacterCounter.init(textareas);

            // Force resize to fix layout issues
            textareas.forEach(function(elem) {
                M.textareaAutoResize(elem);
            });
        });
    </script>
</div>

<!-- Page Specific Scripts -->


</body>
</html>