<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Transaction | ExpnsTracker</title>

    <!-- Materialize CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body {
            background: #f4f4f4;
            padding: 2rem;
        }
        .card {
            max-width: 500px;
            margin: 0 auto;
            padding: 25px 30px;
            border-radius: 12px;
        }
    </style>
</head>

<body>

<div class="card z-depth-3">
    <h4 class="center-align">Add Transaction</h4>
    <br/>

    <form th:action="@{/transactions/new}"
          th:object="${transaction}"
          method="post">

        <!-- Transaction Type -->
        <div class="input-field">
            <select th:field="*{type}" required>
                <option value="" disabled selected>Choose type</option>
                <option th:each="type : ${types}"
                        th:value="${type}"
                        th:text="${type}">
                </option>
            </select>
            <label>Transaction Type</label>
        </div>

        <!-- categoryId -->
        <div class="input-field">
            <input type="text" th:field="*{categoryId}" required>
            <label>categoryId</label>
        </div>

        <!-- Amount -->
        <div class="input-field">
            <input type="number" step="0.01" th:field="*{amount}" required>
            <label>Amount</label>
            <span class="red-text"
                  th:if="${#fields.hasErrors('amount')}"
                  th:errors="*{amount}"></span>
        </div>

        <!-- Description -->
        <div class="input-field">
            <textarea th:field="*{description}" class="materialize-textarea"></textarea>
            <label>Description (optional)</label>
        </div>

        <div class="center-align">
            <button class="btn waves-effect waves-light" type="submit">
                Save Transaction
            </button>
        </div>

        <br>
        <p class="center-align">
            <a th:href="@{/transactions}">Back to Transactions</a>
        </p>

    </form>
</div>

<!-- Materialize JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        M.FormSelect.init(document.querySelectorAll('select'));
    });
</script>

</body>
</html>
